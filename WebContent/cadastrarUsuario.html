<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<link rel="stylesheet" type="text/css" href="_css/estilo.css">
	<title>Cadastrar Usuario</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
		<script>
			$(document).ready(function() {
				$('#btnEnviar').click(function(event) {
					$.ajax({
						url : 'http://localhost:8080/Sisalfa/addUser',
    					type : 'POST',
    					data: JSON.stringify({
    					nome: $('#nome').val()
    				}),
    				contentType : "application/json; charset=utf-8",
    	    		dataType : 'json',
    	    		success: function (response) {
    	    			alert("Usuario enviado com sucesso!");
                		window.location = "http://localhost:8080/Sisalfa/";
             		}
					});
				});	
			});
		</script>
		 <script>
		$(document).ready(function(){
			$.getJSON("http://localhost:8080/Sisalfa/getAllUsers", function(result){
				$.each(result, function(indice, value){
					$("#contextos").append('<tr> <td>' + value.id + '</td>' + 
						'<td>' + value.nome + '</td>' + 
						'<td>' + value.status + '</td>' + 
						'<td>'+ value.dataEntrada +'</td>' + 
						'</tr>'
					);	
				});
			});
		});
	</script>
</head>
<body>
	<nav>
	<a href="index.html">S i s a l f a</a>
		<ul>
			<li><a href="index.html">Inicio</a></li>
			<li><a href="listarContexto.jsp">Contextos</a></li>
			<li><a href="listarDesafio.jsp">Desafios</a></li>
			<li><a href="cadastrarUsuario.html">Usuario</a></li>
			<li><a href="sobre.html">Sobre</a></li>
		</ul>
	</nav><br><h3>Novo Usuario</h3><br>
	<form class="formulario" method="POST"> 
			<label class="nome">Nome:</label> <input placeholder="Digite o nome..." type="text" id="nome"name="nome" /><br /> 
			<br>
			<input type="submit" id="btnEnviar" name ="btnEnviar" class="botao" value="Gravar" />
	</form>
	<table class="table table-striped">
		<thead>
			<tr>
				<th>ID</th>
				<th>Nome</th>
				<th>Status</th>
				<th>Data de entrada</th>
			</tr>
		</thead>
		<tbody id="contextos"></tbody>
		</table>
</body>
</html>